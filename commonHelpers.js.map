{"version":3,"file":"commonHelpers.js","sources":["../src/js/filter.js","../src/js/api-recipies.js","../src/img/icons.svg","../src/js/refs.js","../src/js/render-functions.js","../src/js/pagination.js","../src/js/form.js","../src/js/localstorage.js","../src/js/handlers.js","../src/js/modal.js","../src/js/theme.js","../src/main.js"],"sourcesContent":["export function filterRecipesList(condition, recipes) {\n  const filtered = [];\n  recipes.forEach(recipe => {\n    if (condition.includes(recipe.difficulty)) {\n      filtered.push(recipe);\n    }\n  });\n  return filtered;\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com/recipes';\n\nexport async function getAllRecipies() {\n  const { data } = await axios('', { params: { limit: 50 } });\n  return data;\n}\n\nexport async function getRecepieByID(id) {\n  const { data } = await axios(`/${id}`);\n  return data;\n}\n\nexport async function getRecepieByQuery(query) {\n  const { data } = await axios('/search', { params: { q: query } });\n  return data;\n}\n","export default \"__VITE_ASSET__f5da497b__\"","import pathIcons from '../img/icons.svg';\n\nexport const refs = {\n  recipesList: document.querySelector('.recipes'),\n  bodyEl: document.querySelector('body'),\n  switchEl: document.querySelector('#switch-theme'),\n  form: document.querySelector('.form'),\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n  parcing: document.querySelector('.parcing'),\n  recipes: '',\n  filtered: '',\n  applyFilter: document.querySelector('.filter'),\n  theme: document.querySelector('.theme'),\n  pathToIcons: pathIcons,\n  header: document.querySelector('.header'),\n  checkboxGroup: document.querySelector('.checkbox-group'),\n  loadMoreBtn: document.querySelector('#loadMore'),\n  currentPage: 1,\n};\n","import { refs } from './refs';\n\nexport function renderRecipesList(recipes) {\n  const markup = recipes\n    .map(\n      ({ id, image, name, difficulty, cuisine }) =>\n        `<li class=\"recipe-item\" data-id='${id}'>\n    <img\n        class=\"recipe-image\"\n        src=${image}\n        alt=${name}\n    />\n    <div class=\"recipe-dscr\">\n        <p class=\"recipe-name\">Name: ${name}</p>\n        <p class=\"recipe-cuisine\">Cuisine: ${cuisine}</p>\n        <p class=\"recipe-difficulty\">Difficulty: ${difficulty}</p>\n    </div>`\n    )\n    .join('');\n  refs.recipesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderRecipeByID({\n  name,\n  difficulty,\n  cuisine,\n  caloriesPerServing,\n  image,\n  ingredients,\n  instructions,\n  prepTimeMinutes,\n  cookTimeMinutes,\n}) {\n  const markup = `<h2 class=\"food-name\"><b>Name:</b> ${name}</h2>\n          <div class=\"common-container\">\n            <div class=\"descr-container\">\n              <p class=\"food-cuisine\"><b>Cuisine:</b> ${cuisine}</p>\n              <p class=\"difficulty\"><b>Difficulty:</b> ${difficulty}</p>\n              <p class=\"ingredients\"><b>Inredients:</b> ${ingredients}</p>\n              <p class=\"instructions\"><b>Instructions:</b> ${instructions}</p>\n              <p class=\"prep-time\"><b>Preparation time:</b> ${prepTimeMinutes} minutes</p>\n              <p class=\"cook-time\"><b>Cook time:</b> ${cookTimeMinutes} minutes</p>\n              <p class=\"calories\"><b>Calories:</b> ${caloriesPerServing}</p>\n            </div>\n            <img class=\"large-image\" src=\"${image}\" alt=\"Food image\" />\n          </div>`;\n  refs.parcing.insertAdjacentHTML('beforeend', markup);\n}\n","export function calcPageQuan(elQuantity) {\n  const limit = 12;\n  const numberOfRecipies = elQuantity;\n  const pageQuantity = numberOfRecipies / limit;\n  return Math.ceil(pageQuantity);\n}\n\nexport function getElNumOnPage(currentPage) {\n  return currentPage * 12 - 12;\n}\n","import { getRecepieByQuery } from './api-recipies';\nimport { renderRecipesList } from './render-functions';\nimport { refs } from './refs';\nimport { calcPageQuan } from './pagination';\n\nexport async function findFood(e) {\n  e.preventDefault();\n  const query = e.target.elements.query.value.trim();\n  if (!query) {\n    return alert('Search request must not be blank');\n  }\n  const { recipes, total } = await getRecepieByQuery(query);\n  refs.recipes = recipes;\n  if (recipes.length) {\n    refs.currentPage = 1;\n    console.log(refs.recipes);\n    refs.recipesList.innerHTML = '';\n    renderRecipesList(\n      recipes.slice(refs.currentPage * 12 - 12, refs.currentPage * 12)\n    );\n    if (calcPageQuan(total) > 1) {\n      refs.loadMoreBtn.classList.remove('hidden');\n    } else refs.loadMoreBtn.classList.add('hidden');\n  } else {\n    refs.loadMoreBtn.classList.add('hidden');\n    refs.recipesList.innerHTML =\n      '<h2 class=\"empty-result\">No matches found</h2>';\n  }\n}\n","export function saveToLS(key,value){\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\nexport function loadFromLS(key){\n    const json =localStorage.getItem(key);\n    try{\n        const data = JSON.parse (json);\n        return data;\n    }\n    catch{\n        return json;\n    }\n}","import { getAllRecipies } from './api-recipies';\nimport { filterRecipesList } from './filter';\nimport { saveToLS } from './localstorage';\nimport { calcPageQuan } from './pagination';\nimport { refs } from './refs';\nimport { renderRecipesList } from './render-functions';\n\nexport function onClickChangeTheme() {\n  refs.bodyEl.classList.toggle('dark-theme');\n  refs.modal.classList.toggle('dark-theme');\n  refs.header.classList.toggle('dark-theme');\n  refs.checkboxGroup.classList.toggle('dark-theme');\n  if (refs.bodyEl.classList.contains('dark-theme')) {\n    saveToLS('theme', 'dark');\n    refs.theme.innerHTML = `\n      <svg class=\"moon\" height=\"30\" width=\"30\">\n        <use href=\"${refs.pathToIcons}#moon\"></use>\n      </svg>`;\n  } else {\n    saveToLS('theme', 'white');\n    refs.theme.innerHTML = `\n      <svg class=\"sun\" height=\"30\" width=\"30\">\n        <use href=\"${refs.pathToIcons}#sun\"></use>\n      </svg>`;\n  }\n}\n\nexport async function onDomContentLoaded() {\n  const { recipes, total } = await getAllRecipies();\n  refs.currentPage = 1;\n  refs.recipes = recipes;\n  if (calcPageQuan(total) > 1) {\n    refs.loadMoreBtn.classList.remove('hidden');\n  } else refs.loadMoreBtn.classList.add('hidden');\n  refs.recipesList.innerHTML = '';\n  renderRecipesList(\n    recipes.slice(refs.currentPage * 12 - 12, refs.currentPage * 12)\n  );\n}\n\nexport function onFilterActivate(e) {\n  refs.currentPage = 1;\n  refs.loadMoreBtn.classList.remove('hidden');\n  const elements = e.target.form;\n  const condition = [];\n  for (const element of elements) {\n    if (element.checked) {\n      condition.push(element.value);\n    }\n  }\n  if (!condition.length) {\n    refs.filtered = '';\n    refs.recipesList.innerHTML = '';\n    return renderRecipesList(\n      refs.recipes.slice(refs.currentPage * 12 - 12, refs.currentPage * 12)\n    );\n  }\n  refs.filtered = filterRecipesList(condition, refs.recipes);\n  if (refs.filtered.length) {\n    refs.currentPage = 1;\n    refs.recipesList.innerHTML = '';\n    renderRecipesList(\n      refs.filtered.slice(refs.currentPage * 12 - 12, refs.currentPage * 12)\n    );\n    if (calcPageQuan(refs.filtered.length) > 1) {\n      refs.loadMoreBtn.classList.remove('hidden');\n    } else refs.loadMoreBtn.classList.add('hidden');\n  } else {\n    refs.loadMoreBtn.classList.add('hidden');\n    refs.recipesList.innerHTML =\n      '<h2 class=\"empty-result\">No matches found</h2>';\n  }\n}\n\nexport function onShowMoreClick() {\n  refs.loadMoreBtn.classList.add('hidden');\n  refs.currentPage++;\n  if (refs.filtered.length) {\n    renderRecipesList(\n      refs.filtered.slice(refs.currentPage * 12 - 12, refs.currentPage * 12)\n    );\n  } else {\n    renderRecipesList(\n      refs.recipes.slice(refs.currentPage * 12 - 12, refs.currentPage * 12)\n    );\n  }\n  const scrollSize =\n    refs.recipesList.firstChild.getBoundingClientRect().height + 50;\n  window.scrollBy({\n    top: scrollSize,\n    behavior: 'smooth',\n  });\n  if (\n    refs.currentPage === calcPageQuan(refs.filtered.length) ||\n    refs.currentPage === calcPageQuan(refs.recipes.length)\n  ) {\n    refs.loadMoreBtn.classList.add('hidden');\n  } else refs.loadMoreBtn.classList.remove('hidden');\n}\n","import { getRecepieByID } from './api-recipies';\nimport { refs } from './refs';\nimport { renderRecipeByID } from './render-functions';\n\nexport async function onRecipeClick(e) {\n  if (!e.target.closest('li')) return;\n  refs.parcing.innerHTML = '';\n  const id = e.target.closest('li').dataset.id;\n  const res = await getRecepieByID(id);\n  refs.backdrop.classList.remove('hidden');\n  renderRecipeByID(res);\n  refs.backdrop.addEventListener('click', e => {\n    if (\n      e.target.classList.contains('backdrop') ||\n      e.target.classList.contains('close-button' || e.key === 'Escape')\n    ) {\n      refs.backdrop.classList.add('hidden');\n      refs.backdrop.removeEventListener;\n    }\n  });\n  document.addEventListener('keyup', e => {\n    if (e.key === 'Escape') {\n      refs.backdrop.classList.add('hidden');\n      refs.backdrop.removeEventListener;\n    }\n  });\n}\n","import { loadFromLS } from './localstorage';\nimport { refs } from './refs';\n\nexport function onLoadedDomTheme() {\n  const checkTheme = loadFromLS('theme');\n  if (checkTheme === 'dark') {\n    refs.bodyEl.classList.toggle('dark-theme');\n    refs.modal.classList.toggle('dark-theme');\n    refs.header.classList.toggle('dark-theme');\n    refs.checkboxGroup.classList.toggle('dark-theme');\n    refs.theme.innerHTML = `\n      <svg class=\"moon\" height=\"30\" width=\"30\">\n        <use href=\"${refs.pathToIcons}#moon\"></use>\n      </svg>`;\n  }\n}\n","import { filterRecipesList } from './js/filter';\nimport { findFood } from './js/form';\nimport {\n  onClickChangeTheme,\n  onDomContentLoaded,\n  onFilterActivate,\n  onShowMoreClick,\n} from './js/handlers';\nimport { onRecipeClick } from './js/modal';\nimport { refs } from './js/refs';\nimport { onLoadedDomTheme } from './js/theme';\n\ndocument.addEventListener('DOMContentLoaded', onLoadedDomTheme);\ndocument.addEventListener('DOMContentLoaded', onDomContentLoaded);\ndocument.addEventListener('click', onRecipeClick);\nrefs.form.addEventListener('submit', findFood);\nrefs.switchEl.addEventListener('click', onClickChangeTheme);\nrefs.applyFilter.addEventListener('change', onFilterActivate);\nrefs.loadMoreBtn.addEventListener('click', onShowMoreClick);\n"],"names":["filterRecipesList","condition","recipes","filtered","recipe","axios","getAllRecipies","data","getRecepieByID","id","getRecepieByQuery","query","pathIcons","refs","renderRecipesList","markup","image","name","difficulty","cuisine","renderRecipeByID","caloriesPerServing","ingredients","instructions","prepTimeMinutes","cookTimeMinutes","calcPageQuan","elQuantity","pageQuantity","findFood","e","total","saveToLS","key","value","jsonData","loadFromLS","json","onClickChangeTheme","onDomContentLoaded","onFilterActivate","elements","element","onShowMoreClick","scrollSize","onRecipeClick","res","onLoadedDomTheme"],"mappings":"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"}